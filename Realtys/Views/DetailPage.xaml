<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="Realtys.Views.DetailPage"
             Title="Detail">

    <StackLayout  BackgroundColor="#1d1d1d">
        <Label Margin="10,10,0,0" 
               Text="{Binding realEstate.Name}" 
               FontSize="Large"
               HorizontalTextAlignment="Center"/>
        <Label x:Name="realtyDetail"
               Margin="10"
               VerticalOptions="Center" 
               HorizontalOptions="StartAndExpand"
               TextColor="{DynamicResource SecondaryColor}">
            <Label.FormattedText>
                <FormattedString>
                    <FormattedString.Spans>
                        <Span Text="Čistý výnos: "/>
                        <Span Text="{Binding CistyVynos, StringFormat='{0:F2}'}" />
                        <Span Text=" %"/>
                        <Span Text="&#10;"/>
                        <Span Text="Pořizovací cena: " />
                        <Span Text="{Binding porizovaciCena}" />
                        <Span Text="&#10;"/>
                        <Span Text="Čisýy roční výnos: " />
                        <Span Text="{Binding cistyRocniVynos, StringFormat='{0:F2}'}" />
                        <Span Text="&#10;"/>
                        <Span Text="Návratnost investice vlastních zdrojů za 1. rok v letech: " />
                        <Span Text="{Binding RocniNavratnostVlastnichZdroju, StringFormat='{0:F2}'}" />
                        <Span Text="&#10;"/>
                        <Span Text="Roční zhodnocení vlastních zdrojů za 1. rok: " />
                        <Span Text="{Binding RocniZhodnoceniVlastnichZdroju, StringFormat='{0:F2}'}" />
                        <Span Text=" %" />
                    </FormattedString.Spans>
                </FormattedString>
            </Label.FormattedText>
        </Label>
        <Label Margin="10,0,0,0" 
               IsVisible="{Binding realEstate.MortgageUsage}" 
               Text="Úvěr:" 
               FontSize="Subtitle"/>
        <Label Margin="10"
               x:Name="mortgageDetail"
               VerticalOptions="Center" 
               HorizontalOptions="StartAndExpand" 
               IsVisible="{Binding realEstate.MortgageUsage}"
               TextColor="{DynamicResource SecondaryColor}">
            <Label.FormattedText>
                <FormattedString>
                    <FormattedString.Spans>
                        <Span Text="Počet let: "/>
                        <Span Text="{Binding mortgage.ForYears}"/>
                        <Span Text="&#10;"/>
                        <Span Text="Roční úroková míra: "/>
                        <Span Text="{Binding mortgage.Interest}" />
                        <Span Text=" % &#10;"/>
                        <Span Text="Měsíční splátka: " />
                        <Span Text="{Binding mortgage.Payment, StringFormat='{0:F2}'}" />
                        <Span Text="&#10;"/>
                        <Span Text="Podíl: " />
                        <Span Text="{Binding mortgage.Share}" />
                        <Span Text=" %" />
                    </FormattedString.Spans>
                </FormattedString>
            </Label.FormattedText>
        </Label>
        <Grid ColumnDefinitions="*,*">
            <Button Text="Delete"
                    Grid.Row="1"
                    Grid.Column="0"
                    VerticalOptions="Center" 
                    Command="{Binding DeleteCommand}"/>
            
            <Button Text="Edit"
                    Grid.Row="1"
                    Grid.Column="1"
                    VerticalOptions="Center" 
                    Command="{Binding EditCommand}"/>
        </Grid>
    </StackLayout>
</ContentPage>